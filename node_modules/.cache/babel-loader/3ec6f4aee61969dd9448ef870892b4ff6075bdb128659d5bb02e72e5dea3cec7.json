{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_AddData = _resolveComponent(\"AddData\");\n  const _component_TableData = _resolveComponent(\"TableData\");\n  const _component_UpdateData = _resolveComponent(\"UpdateData\");\n  const _component_UserDetailsModal = _resolveComponent(\"UserDetailsModal\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", null, [_createVNode(_component_AddData, {\n    onAdd: $options.addUser\n  }, null, 8 /* PROPS */, [\"onAdd\"]), _createVNode(_component_TableData, {\n    users: $data.users,\n    onDelete: $options.deleteUser,\n    onEdit: $options.editUser,\n    onView: $options.viewUser,\n    view: $options.view\n  }, null, 8 /* PROPS */, [\"users\", \"onDelete\", \"onEdit\", \"onView\", \"view\"]), $data.selectedUserId ? (_openBlock(), _createBlock(_component_UpdateData, {\n    key: 0,\n    user: $data.selectedUser,\n    onUpdate: $options.updateUser\n  }, null, 8 /* PROPS */, [\"user\", \"onUpdate\"])) : _createCommentVNode(\"v-if\", true), $data.showUserDetails ? (_openBlock(), _createBlock(_component_UserDetailsModal, {\n    key: 1,\n    user: $data.selectedUser,\n    onClose: $options.closeUserDetails\n  }, null, 8 /* PROPS */, [\"user\", \"onClose\"])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_createVNode","_component_AddData","onAdd","$options","addUser","_component_TableData","users","$data","onDelete","deleteUser","onEdit","editUser","onView","viewUser","view","selectedUserId","_createBlock","_component_UpdateData","key","user","selectedUser","onUpdate","updateUser","_createCommentVNode","showUserDetails","_component_UserDetailsModal","onClose","closeUserDetails"],"sources":["C:\\Users\\nitis\\vuecrud\\src\\components\\ParentComponent.vue"],"sourcesContent":["<template>\r\n  <div class=\"card\">\r\n    <div>\r\n      <AddData @add=\"addUser\"/>\r\n      <TableData :users=\"users\" @delete=\"deleteUser\" @edit=\"editUser\" @view=\"viewUser\" :view=\"view\" />\r\n      <UpdateData v-if=\"selectedUserId\" :user=\"selectedUser\" @update=\"updateUser\" />\r\n      <UserDetailsModal v-if=\"showUserDetails\" :user=\"selectedUser\" @close=\"closeUserDetails\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AddData from './AddData.vue';\r\nimport TableData from './TableData.vue';\r\nimport UpdateData from './UpdateData.vue';\r\nimport UserDetailsModal from './UserDetailsModal.vue'; \r\nimport axios from 'axios';\r\nimport { API_ENDPOINT } from './apiConfig.js';\r\n\r\nexport default {\r\n  components: {\r\n    TableData,\r\n    AddData,\r\n    UpdateData,\r\n    UserDetailsModal,\r\n  },\r\n  data() {\r\n    return {\r\n      selectedUser: null,\r\n      users: [],\r\n      selectedUserId: null,\r\n      showUserDetails: false, \r\n    };\r\n  },\r\n  created() {\r\n    this.fetchUsers();\r\n  },\r\n  methods: {\r\n    async fetchUsers() {\r\n      try {\r\n        const response = await axios.get(API_ENDPOINT);\r\n        this.users = response.data;\r\n      } catch (error) {\r\n        console.error('Error fetching users:', error);\r\n      }\r\n    },\r\n    async addUser(newUser) {\r\n      try {\r\n        const response = await axios.post(API_ENDPOINT, newUser);\r\n        this.users.push(response.data); \r\n        console.log('User added:', response.data);\r\n      } catch (error) {\r\n        console.error('Error adding user:', error);\r\n      }\r\n    },\r\n    async deleteUser(userId) {\r\n      try {\r\n        await axios.delete(`${API_ENDPOINT}/${userId}`);\r\n        this.users = this.users.filter(user => user.id !== userId);\r\n        console.log('User deleted with ID:', userId);\r\n      } catch (error) {\r\n        console.error('Error deleting user:', error);\r\n      }\r\n    },\r\n    editUser(userId) {\r\n      console.log('Editing user with ID:', userId);\r\n      this.selectedUserId = userId;\r\n      this.selectedUser = this.users.find(user => user.id === userId);\r\n    },\r\n    async updateUser(updatedUser) {\r\n      try {\r\n        const response = await axios.put(`${API_ENDPOINT}/${updatedUser.id}`, updatedUser);\r\n        const index = this.users.findIndex(user => user.id === updatedUser.id);\r\n        if (index !== -1) {\r\n          this.$set(this.users, index, response.data);\r\n        }\r\n        console.log('User updated:', response.data);\r\n      } catch (error) {\r\n        console.error('Error updating user:', error);\r\n      }\r\n      finally {\r\n        this.fetchUsers();\r\n      }\r\n    },\r\n    viewUser(userId) {\r\n      console.log('Viewing user with ID:', userId);\r\n      this.selectedUser = this.users.find(user => user.id === userId);\r\n      this.showUserDetails = true; \r\n    },\r\n    view(userId) {\r\n      this.viewUser(userId);\r\n    },\r\n    closeUserDetails() {\r\n      this.showUserDetails = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n/* Your styles */\r\n</style>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAM;;;;;;uBAAjBC,mBAAA,CAOM,OAPNC,UAOM,GANJC,mBAAA,CAKM,cAJJC,YAAA,CAAyBC,kBAAA;IAAfC,KAAG,EAAEC,QAAA,CAAAC;EAAO,oCACtBJ,YAAA,CAAgGK,oBAAA;IAApFC,KAAK,EAAEC,KAAA,CAAAD,KAAK;IAAGE,QAAM,EAAEL,QAAA,CAAAM,UAAU;IAAGC,MAAI,EAAEP,QAAA,CAAAQ,QAAQ;IAAGC,MAAI,EAAET,QAAA,CAAAU,QAAQ;IAAGC,IAAI,EAAEX,QAAA,CAAAW;8EACtEP,KAAA,CAAAQ,cAAc,I,cAAhCC,YAAA,CAA8EC,qBAAA;IALpFC,GAAA;IAKyCC,IAAI,EAAEZ,KAAA,CAAAa,YAAY;IAAGC,QAAM,EAAElB,QAAA,CAAAmB;mDALtEC,mBAAA,gBAM8BhB,KAAA,CAAAiB,eAAe,I,cAAvCR,YAAA,CAA0FS,2BAAA;IANhGP,GAAA;IAMgDC,IAAI,EAAEZ,KAAA,CAAAa,YAAY;IAAGM,OAAK,EAAEvB,QAAA,CAAAwB;kDAN5EJ,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}